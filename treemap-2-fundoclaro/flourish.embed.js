window.Flourish={external:true};window.FlourishConfig={public_url:"https://public.flourish.rocks/"},function(){"use strict";!function(){function t(){if(!window.FlourishLoaded){window.FlourishLoaded=!0;var t=window.Flourish&&window.Flourish.external,r="en",i=document.querySelector("meta[name='language'],meta[name='LANGUAGE']");i&&i.hasAttribute("content")&&(r=i.getAttribute("content").substr(0,2),e[r]||(r="en"));var o,a=Array.prototype.slice.call(document.querySelectorAll(".flourish-embed"));if(!t){for(var n=document.querySelectorAll("script"),s=0;s<n.length;s++){var u=n[s];if(u.src&&u.src.match(/(?:\.flourish\.(?:rocks|studio)|(?:localhost|flourish\.local)(?::\d+)?)\//g)&&u.src.match(/\/embed\.js$/)){if(!o){var d=u.getAttribute("src");o=d.substr(0,d.lastIndexOf("/resources"))+"/"}if(u.getAttribute("data-src")){var l=document.createElement("div");l.setAttribute("class","flourish-embed"),l.setAttribute("data-src",u.getAttribute("data-src")),u.getAttribute("data-height")&&l.setAttribute("data-height",u.getAttribute("data-height")),u.getAttribute("data-width")&&l.setAttribute("data-width",u.getAttribute("data-width")),u.parentNode.insertBefore(l,u),a.push(l)}}}if(!o)return void console.error("Flourish: could not embed, because could not find script")}if(!a.length)return void console.warn("Flourish: could not find anything to embed");for(var c=[],s=0;s<a.length;s++){var h,m,g,b=a[s],p=b.getAttribute("data-src");if(p){var f=p.split("?"),A=f.length>1;p=f[0],t?(h=p,m=window.FlourishConfig.public_url+"?utm_source=embed&utm_campaign="+p):(g=0===p.indexOf("template/"),h=o+p+(g?"/preview":"/embed"),m=o+p+"/?utm_source=showcase&utm_campaign="+p);var w=b.getAttribute("data-width"),v=b.getAttribute("data-height");v||(h+="?auto=1");var F=document.createElement("iframe");if(F.setAttribute("scrolling","no"),F.setAttribute("frameborder","0"),F.setAttribute("src",h),b.appendChild(F),!g&&!A){var y=document.createElement("div");y.setAttribute("style","width:100%!important;margin-top:4px!important;text-align:right!important;");var C=document.createElement("a");C.setAttribute("class","flourish-credit"),C.setAttribute("href",m),C.setAttribute("target","_top"),C.setAttribute("style","text-decoration:none!important");var E=document.createElement("img");E.setAttribute("alt",e[r]),E.setAttribute("src",window.FlourishConfig.public_url+"resources/made_with_flourish."+r+".svg"),E.setAttribute("style","width:120px!important;height:16px!important;border:none!important;margin:0!important;"),C.appendChild(E),y.appendChild(C),b.appendChild(y)}F.style.width=w||"100%",v?("%"===v.charAt(v.length-1)&&(v=parseFloat(v)/100*b.parentNode.offsetHeight+"px"),F.style.height=v):c.push(F)}}c.length&&window.addEventListener("message",function(t){if(null!=t.source&&(t.origin===document.location.origin||t.origin.match(/\/\/localhost:\d+$|\.flourish\.(?:local(:\d+)?|rocks|studio)$/))){var e;try{e=JSON.parse(t.data)}catch(t){return!1}"Flourish"===e.sender&&"resize"===e.method&&c.forEach(function(r){r.contentWindow!==t.source&&r.contentWindow!==t.source.parent||(r.style.height=e.height)})}})}}var e={de:"Erstellt mit Flourish",en:"Made with Flourish",es:"Creado con Flourish",fr:"Créé avec Flourish",it:"Creato con Flourish",mi:"Hangaia ki te Flourish",nl:"Gemaakt met Flourish"};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}()}();
//# sourceMappingURL=embed.js.map
